<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>工具集 - Yu9191</title>
        <link rel="stylesheet" href="./css/reset.css" />
        <link rel="stylesheet" href="./css/theme.css" />
        <link rel="stylesheet" href="./css/style.css" />
        <link rel="stylesheet" href="./css/effects.css" />
        <link rel="stylesheet" href="./css/futuristic.css" />
        <link rel="stylesheet" href="./css/subscription.css" />
        <link rel="stylesheet" href="./css/toolbox.css" />
        <link rel="stylesheet" href="./css/pixel-art.css" />
        <link rel="stylesheet" href="./css/responsive.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
            integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
    </head>
    <body>
        <div class="loading">
            <div class="loading-spinner"></div>
        </div>

        <div class="global-toggles">
            <div class="theme-toggle" id="themeToggleGlobal">
                <i class="fa-solid fa-moon"></i>
            </div>
            <a href="index.html" class="home-btn">
                <i class="fa-solid fa-house"></i>
            </a>
        </div>

        <div id="futuristic-ui-container">
            <div class="futuristic-body">
                <div class="futuristic-tools-grid">
                    <div class="tool-card" data-tool="pixel-art">
                        <i class="fa-solid fa-palette"></i>
                        <h3>像素艺术转换器</h3>
                        <p>将图片转换为像素风格</p>
                    </div>
                    <div class="tool-card" data-tool="m3u8">
                        <i class="fa-solid fa-video"></i>
                        <h3>M3U8下载器</h3>
                        <p>下载并转换M3U8视频</p>
                    </div>
                    <div class="tool-card" data-tool="subscription">
                        <i class="fa-solid fa-exchange-alt"></i>
                        <h3>订阅转换器</h3>
                        <p>转换各种订阅格式</p>
                    </div>
                </div>
            </div>

            <!-- 像素艺术转换器 -->
            <div class="pixel-art-container" style="display:none;"></div>

            <!-- m3u8下载器 -->
            <div class="futuristic-m3u8-downloader" style="display:none;"></div>

            <!-- 订阅转换器 -->
            <div class="subscription-converter" style="display:none;"></div>
        </div>

        <script src="./js/subscription.js"></script>
        <script src="./js/m3u8-downloader.js"></script>
        <script>
            // 加载动画
            window.addEventListener('load', function() {
                const loading = document.querySelector('.loading');
                setTimeout(() => {
                    loading.classList.add('hidden');
                }, 500);
            });

            // 主题切换
            const root = document.documentElement;
            const themeToggleGlobal = document.getElementById('themeToggleGlobal');
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                root.setAttribute('data-theme', savedTheme);
                updateThemeToggleIcon(themeToggleGlobal, savedTheme);
            }

            function updateThemeToggleIcon(button, theme) {
                const icon = button.querySelector('i');
                if (theme === 'dark') {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
            }

            themeToggleGlobal.addEventListener('click', function() {
                const currentTheme = root.getAttribute('data-theme') || 'light';
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                root.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeToggleIcon(this, newTheme);
            });

            // 工具卡片点击事件
            const toolCards = document.querySelectorAll('.tool-card');
            const pixelArtContainer = document.querySelector('.pixel-art-container');
            const m3u8Downloader = document.querySelector('.futuristic-m3u8-downloader');
            const subscriptionConverter = document.querySelector('.subscription-converter');
            toolCards.forEach(card => {
                card.addEventListener('click', () => {
                    pixelArtContainer.style.display = 'none';
                    m3u8Downloader.style.display = 'none';
                    subscriptionConverter.style.display = 'none';
                    if(card.dataset.tool === 'pixel-art') pixelArtContainer.style.display = 'block';
                    if(card.dataset.tool === 'm3u8') m3u8Downloader.style.display = 'block';
                    if(card.dataset.tool === 'subscription') subscriptionConverter.style.display = 'block';
                });
            });

            // 关闭按钮事件
            document.addEventListener('click', function(e) {
                if(e.target.classList.contains('pixel-art-close')) pixelArtContainer.style.display = 'none';
                if(e.target.classList.contains('m3u8-close')) m3u8Downloader.style.display = 'none';
                if(e.target.classList.contains('subscription-close')) subscriptionConverter.style.display = 'none';
            });
        </script>
    </body>
</html> 